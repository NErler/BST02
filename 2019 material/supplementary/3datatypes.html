<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Sten Willemsen" />

<meta name="date" content="2019-02-27" />

<title>Data types</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Data types</h1>
<h4 class="author"><em>Sten Willemsen</em></h4>
<h4 class="date"><em>2019-02-27</em></h4>



<div id="importing-data-files" class="section level2">
<h2>Importing data files</h2>
<p>If you want to learn to use R that is probably because you want to use it to analyse some data. So letâ€™s illustrate R based on a data set. We can download and import an SPSS data set containing data on an (imaginary) trial using:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(foreign)
mydata &lt;-<span class="st"> </span><span class="kw">read.spss</span>(<span class="dt">file=</span><span class="st">'https://github.com/stenw/bst02r/blob/master/data-raw/pain.sav?raw=true'</span>,
                      <span class="dt">to.data.frame =</span> <span class="ot">TRUE</span>)</code></pre></div>
</div>
<div id="data.frames" class="section level2">
<h2>data.frames</h2>
<p>When we have executed the command above the data set will be stored under the name <code>mydata</code>. <code>mydata</code> is a so called <code>data.frame</code>. This is a rectangular table in which every column contains a variable and every row an observation. The variable <code>mydata</code> will also appear in the environment tab in the upper right hand corner of RStudio. Right next to the name we can see how many observations and how many variables the <code>data.frame</code> has. We can examine the data set more closely by clicking the little icon next to it in this tab. An other way of looking at the data is my typing in the command <code>View(mydata)</code> directly in the Console tab.</p>
<p>We see that the first four variables are the patient number, the treatment, the gender and age of the patient(<code>ptno</code>, <code>treatm</code>, <code>sex</code> and <code>age</code>). In order to work with one of the variables in the <code>data.frame</code> we first type the name of the <code>data.frame</code> followed by a dollar sign, and finally the name of the variable inside the <code>data.frame</code>. So when we execute the command: <code>mydata$age</code> in the console the ages of all patients are displayed. We can calculate the average of them using the function <code>mean</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(mydata<span class="op">$</span>age)
<span class="co">#&gt; [1] 53.52</span></code></pre></div>
</div>
<div id="vectors-and-datatypes" class="section level2">
<h2>vectors and datatypes</h2>
<p>Each variable in the <code>data.frame mydata</code> is a so called vector. A vector is a number of values that each have the same data type (Or mode<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>). The most important data types in R are:<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>:</p>
<table style="width:99%;">
<colgroup>
<col width="22%"></col>
<col width="76%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="right">mode</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">character: logical: integer: numeric:</td>
<td align="left">text, for example â€˜manâ€™, â€˜womanâ€™, â€˜censoredâ€™, etc. TRUE and FALSE whole numers like 0, 1, 2, etc â€¦ Posibly fractional numerical values like 1.0, 1.2 or 1e12 (that is 10 raised to the power of 12)</td>
</tr>
</tbody>
</table>
<p>Vectors of these data types are the most elementary data structure in R. All other structures (like the <code>data.table</code>) are constructed using these vectors. In R there is also no structure that is smaller than a vector. A single number is not treated differently from a numeric vector of length ten; In fact R sees the single number simply as a numeric vector of length 1. The <code>length()</code> of a vector can be obtained by using the function <code>length()</code>.</p>
<p>A vector can be created using the function <code>c()</code>. (The <code>c</code> stands for â€˜concatenateâ€™, â€˜coerceâ€™ or â€˜combineâ€™)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)
<span class="co">#&gt; [1] 1 2 3</span>
<span class="kw">c</span>(<span class="st">'spam'</span>, <span class="st">'ham'</span>, <span class="st">'eggs'</span>)
<span class="co">#&gt; [1] &quot;spam&quot; &quot;ham&quot;  &quot;eggs&quot;</span>
<span class="kw">c</span>(<span class="st">&quot;double&quot;</span>, <span class="st">&quot;quotes&quot;</span>, <span class="st">&quot;work&quot;</span>,
  <span class="st">'like'</span>, <span class="st">'single'</span>)
<span class="co">#&gt; [1] &quot;double&quot; &quot;quotes&quot; &quot;work&quot;   &quot;like&quot;   &quot;single&quot;</span>
<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)
<span class="co">#&gt; [1]  TRUE FALSE</span></code></pre></div>
<p>In the output we see that R shows the row number of the first element of each row between straight brackets. This makes it easier to refer to a particular element, especially when the vectors are long. We can work with vectors in the same way as with single numbers. In principle all operations are carried out in an element wise fashion.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)
<span class="co">#&gt; [1]  4 10 18</span></code></pre></div>
<p>When we try to create a vector that consists of different data types they will be converted to a data type that is capable of containing all of them. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="st">&quot;eleven&quot;</span>, <span class="dv">12</span>)
<span class="co">#&gt; [1] &quot;eleven&quot; &quot;12&quot;</span></code></pre></div>
<p>The second element of the resulting vector is now also of type <code>character</code>. In general it is better not to trust this implicit conversion. Instead to it explicitly, in this case by using the function <code>as.character()</code>.</p>
<p>An other way to create a vector is by using the function <code>vector</code>. <code>vector('numeric', 8)</code> creates a numeric vector of length 8. The <code>vector</code> function is often used to preallocate room where the results of future computations can be stored.</p>
</div>
<div id="lists" class="section level2">
<h2>lists</h2>
<p>Elements of a vector are always of the same type. A <code>list</code> differs from a vector by also allowing its elements to be of a different type. We can make a <code>list</code> using the function <code>list</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">list1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;eleven&quot;</span>, <span class="dv">12</span>)
list2 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="kw">c</span>(<span class="st">'foo'</span>, <span class="st">'bar'</span>))</code></pre></div>
<p>We can also assign a name to the elements of a list:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">list3 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">numbers=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">chars=</span><span class="kw">c</span>(<span class="st">'foo'</span>, <span class="st">'bar'</span>))</code></pre></div>
<p>It is also possible for a list to contain other lists.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">list4 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">numbers=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">chars=</span><span class="kw">c</span>(<span class="st">'aap'</span>, <span class="st">'noot'</span>), 
               <span class="dt">sublist=</span><span class="kw">list</span>(<span class="dv">1</span>,<span class="st">'a'</span>))</code></pre></div>
<p>In many ways lists resemble data.frames. An important difference is that the length of all elements of a data.frame (that is the variables) must be the same. For a list this is not the case.</p>
</div>
<div id="factors" class="section level2">
<h2>factors</h2>
<p>A <code>factor</code>is a special kind of vector for categorical data. The factor contains different integers one for every category. Each unique value has an associated â€˜labelâ€™ that tell us what the code means. Factors are frequently used when we model categorical data. An advantage of a factor over a <code>character</code> is that we can limit the number of possible outcomes. It is also less likely to make mistakes due to typing errors. Factors can be created by means of the function <code>factor()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">'male'</span>, <span class="st">'female'</span>, <span class="st">'male'</span>))
<span class="co">#&gt; [1] male   female male  </span>
<span class="co">#&gt; Levels: female male</span></code></pre></div>
<p>When a <code>factor</code> is displayed R also shows us the unique values the variable can take. These are called the â€˜levelsâ€™ of the factor.</p>
</div>
<div id="missing-values" class="section level2">
<h2>Missing values</h2>
<p>Whenever the value of a variable is missing this is denoted by <code>NA</code> in R. Usually this means that the values exists however we do not know it. Sometimes the result of a calculation is not finite (for example when we define a positive or negative number by zero). In this case the result is defined to be <code>Inf</code> of <code>-Inf</code> in R. When a value cannot be computed at all (for example when we divide zero by zero) R will define the result as <code>NaN</code>, which stands for â€˜Not a Numberâ€™. Finally, R sometimes uses the special value <code>NULL</code> to indicate that a variable is not yet defined. Here we will mostly deal with data that is just missing, that is <code>NA</code>.</p>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><code>mode</code>, <code>storage.mode</code> and <code>type</code> are closely related concepts, we will not discuss the differences here. See also <code>?mode</code>.<a href="#fnref1">â†©</a></p></li>
<li id="fn2"><p>There are a few more like <code>complex</code> and <code>raw</code> which we will not discuss.<a href="#fnref2">â†©</a></p></li>
</ol>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
