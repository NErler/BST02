<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Sten Willemsen" />

<meta name="date" content="2019-02-27" />

<title>Making selections</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Making selections</h1>
<h4 class="author"><em>Sten Willemsen</em></h4>
<h4 class="date"><em>2019-02-27</em></h4>



<p>Often we want to calculate some things only for a specific subgroup of our patient group. (For example we want to calculate the average for the variables age and weight, but only for the women in the data set and not for the men). So it is important to select specific variables and observations. In R making these selections is called indexing. We start by showing how we can make selections within a single variable (a vector). Afterwards we will see how selecting variables and observations in a <code>data.frame</code> works.</p>
<div id="indexing-a-vector" class="section level2">
<h2>Indexing a vector</h2>
<p>As an example we will work with age variable in the <code>data.frame mydata</code> ; So let’s create a variable that contains this single variable.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ages &lt;-<span class="st"> </span>mydata<span class="op">$</span>age</code></pre></div>
<div id="making-selections-based-on-the-position-in-a-vector" class="section level3">
<h3>Making selections based on the position in a vector</h3>
<p>The easiest way of selecting elements in a vector is by using the position of the elements in the vector. This can be done by providing the positions of the elements we want to select between square brackets after the name of the vector. So when we want to select the age of the first patient we can run the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ages[<span class="dv">1</span>]
<span class="co">#&gt; [1] 58</span></code></pre></div>
<p>We can also do this for multiple elements at the same time.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">selection &lt;-<span class="st"> </span>ages[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)]
selection
<span class="co">#&gt; [1] 68 61</span></code></pre></div>
<p>The vector of indices does not have to be sorted and indices may be duplicated. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">selection[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>)]
<span class="co">#&gt; [1] 61 68 68</span></code></pre></div>
<p>When we use a vector with negative integers we will select all observations <em>except</em> those on the specified positions. So if we want to select all the ages except for the first three we can use.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ages[<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)]
<span class="co">#&gt;  [1] 37 80 51 39 61 58 42 61 66 66 79 72 53 70 59 60 32 48 50 52 41 61 51</span>
<span class="co">#&gt; [24] 68 38 61 55 45 56 33 50 43 70 59 51 78 64 64 53 55 37 51 73 42 66 35</span>
<span class="co">#&gt; [47] 51 26 58 71 57 73 63 56 45 55 64 26 51 23 55 53 29 69 54 34 59 70 77</span>
<span class="co">#&gt; [70] 74 43 58 40 45 64 46 65 35 40 67 52 46 56 35 40 54 36 56 45 55 52 68</span>
<span class="co">#&gt; [93] 52 35 40 47 64</span></code></pre></div>
<p>It is not possible to combine positive and negative indices this way.</p>
</div>
<div id="selections-based-on-a-condition-true-false" class="section level3">
<h3>Selections based on a condition (TRUE / FALSE)</h3>
<p>The second way to select elements from a vector is by using a vector of logical values (i.e.. TRUE/FALSE values) between the square brackets. In this way we select all values for which the value between the brackets is TRUE.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">some_values&lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">'foo'</span>, <span class="st">'bar'</span>, <span class="st">'baz'</span>)
some_values[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)]
<span class="co">#&gt; [1] &quot;foo&quot; &quot;baz&quot;</span></code></pre></div>
<p>This way of selecting is especially useful when we use some comparison or condition to select variables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ages[mydata<span class="op">$</span>sex<span class="op">==</span><span class="st">'Female'</span>]
<span class="co">#&gt;  [1] 68 37 79 60 48 50 52 41 68 61 56 33 43 70 51 35 58 56 45 26 51 23 77</span>
<span class="co">#&gt; [24] 45 65 67 46 56 52 35</span>
mydata<span class="op">$</span>ptno[ages<span class="op">&gt;</span><span class="dv">65</span>]
<span class="co">#&gt;  [1]  2  5 12 13 14 15 17 27 36 39 46 48 53 55 67 71 72 73 83 95</span></code></pre></div>
<p>Often the conditions are based on the comparison operators: | Operator | Meaning | |———-|————————–| | == | Equal to | | != | Not equal to | | &gt; | Greater than | | &lt; | Smaller than | | &gt;= | Greater than or equal to | | &lt;= | Smaller than or equal to |</p>
<p>Conditions can be combined using <code>&amp;</code> (and) and <code>|</code> or. Finally there is the logical negation operator <code>!</code> ()</p>
</div>
<div id="making-selections-using-names" class="section level3">
<h3>Making selections using names</h3>
<p>When the elements in a vector all have a name we can use these names to select the elements.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bp_with_name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">sys=</span><span class="dv">135</span>, <span class="dt">dia=</span><span class="dv">85</span>)
bp_with_name[<span class="st">'dia'</span>]
<span class="co">#&gt; dia </span>
<span class="co">#&gt;  85</span></code></pre></div>
</div>
</div>
<div id="making-selections-in-a-list" class="section level2">
<h2>Making selections in a list</h2>
<p>To make selections in a list, we can use single square brackets, double square brackets and the dollar sign. The use of single square brackets works in the same way as it does for vectors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mylist &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">foo=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">3</span>),
  <span class="dt">bar=</span><span class="kw">c</span>(<span class="st">'a'</span>, <span class="st">'b'</span>),
  <span class="dt">baz=</span><span class="kw">list</span>(<span class="ot">TRUE</span>, <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>))
  )
mylist[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]
<span class="co">#&gt; $foo</span>
<span class="co">#&gt; [1] 1 2 3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $baz</span>
<span class="co">#&gt; $baz[[1]]</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $baz[[2]]</span>
<span class="co">#&gt; [1] 2 4</span>
mylist[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)<span class="op">==</span><span class="dv">2</span>]
<span class="co">#&gt; $bar</span>
<span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot;</span>
mylist[<span class="st">'bar'</span>]
<span class="co">#&gt; $bar</span>
<span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot;</span></code></pre></div>
<p>We can also use double square brackets and the dollar sign for a <code>list</code>. There are two important differences between using single and double square brackets: 1. Using double square brackets only allows us to select a single element from the <code>list</code>. 2. The result of a selection with double brackets is the element itself, while if we make the selection with single brackets the result is a <code>list</code> consisting of the selected elements.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mylist[[<span class="dv">1</span>]]
<span class="co">#&gt; [1] 1 2 3</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mode</span>(mylist[[<span class="dv">1</span>]]) <span class="co"># a vector</span>
<span class="co">#&gt; [1] &quot;numeric&quot;</span>
<span class="kw">mode</span>(mylist[<span class="dv">1</span>])   <span class="co"># a list with with a numeric vector as its single element   </span>
<span class="co">#&gt; [1] &quot;list&quot;</span></code></pre></div>
<p>There is another way to select a variable from a <code>list</code> which is by using the dollar sign (‘$’). This is an alternative to using double square brackets in combination with a name. When we use this the result is always a vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mylist<span class="op">$</span>foo      <span class="co"># results is a vector</span>
<span class="co">#&gt; [1] 1 2 3</span></code></pre></div>
<p>Instead of using the dollar sign we can use double square brackets. We now need to put the name between quotes like for single square brackets. We can also use the position of the variable using these double square brackets.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mydata[[<span class="st">'treatm'</span>]]
<span class="co">#&gt;   [1] Placebo Placebo Placebo Placebo Placebo Placebo Placebo Placebo</span>
<span class="co">#&gt;   [9] Placebo Placebo Placebo Placebo Placebo Placebo Placebo Placebo</span>
<span class="co">#&gt;  [17] Placebo Placebo Placebo Placebo Placebo Placebo Placebo Placebo</span>
<span class="co">#&gt;  [25] Placebo Placebo Placebo Placebo Placebo Placebo Placebo Placebo</span>
<span class="co">#&gt;  [33] Placebo Placebo Placebo Placebo Placebo Placebo Placebo Placebo</span>
<span class="co">#&gt;  [41] Placebo Placebo Placebo Placebo Placebo Placebo Placebo Placebo</span>
<span class="co">#&gt;  [49] Placebo Placebo Active  Active  Active  Active  Active  Active </span>
<span class="co">#&gt;  [57] Active  Active  Active  Active  Active  Active  Active  Active </span>
<span class="co">#&gt;  [65] Active  Active  Active  Active  Active  Active  Active  Active </span>
<span class="co">#&gt;  [73] Active  Active  Active  Active  Active  Active  Active  Active </span>
<span class="co">#&gt;  [81] Active  Active  Active  Active  Active  Active  Active  Active </span>
<span class="co">#&gt;  [89] Active  Active  Active  Active  Active  Active  Active  Active </span>
<span class="co">#&gt;  [97] Active  Active  Active  Active </span>
<span class="co">#&gt; Levels: Placebo Active</span>
mydata[[<span class="dv">1</span>]]
<span class="co">#&gt;   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17</span>
<span class="co">#&gt;  [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34</span>
<span class="co">#&gt;  [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51</span>
<span class="co">#&gt;  [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68</span>
<span class="co">#&gt;  [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85</span>
<span class="co">#&gt;  [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100</span></code></pre></div>
<p>It is not possible to select more than one element using double brackets; The result will always be a vector (instead of a <code>data.frame</code>)</p>
</div>
<div id="selecting-observations-and-variables-in-a-data.frame" class="section level2">
<h2>Selecting observations and variables in a <code>data.frame</code></h2>
<p>Selecting observations and variables in a <code>data.frame</code> works more or less the same for <code>data.frames</code> as it does for lists. However because a <code>data.frame</code> is two dimensional we can two indices between the square brackets. The first one corresponds to the observations (rows) and the second corresponds to the variables (columns). So, as an example, we can select the first two observations from the third variable in the <code>data.frame</code> using the syntax:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mydata[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dv">3</span>]
<span class="co">#&gt; [1] Male   Female</span>
<span class="co">#&gt; Levels: Male Female</span></code></pre></div>
<p>When the first or second position is left blank all rows or columns are selected. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mydata[, <span class="dv">3</span>]       <span class="co"># sex (3rd variable) for all patients</span>
<span class="co">#&gt;   [1] Male   Female Male   Female Male   Male   Male   Male   Male   Male  </span>
<span class="co">#&gt;  [11] Male   Male   Male   Female Male   Male   Male   Male   Female Male  </span>
<span class="co">#&gt;  [21] Female Female Female Female Male   Male   Female Male   Female Male  </span>
<span class="co">#&gt;  [31] Male   Female Female Male   Female Female Male   Male   Male   Male  </span>
<span class="co">#&gt;  [41] Male   Male   Male   Male   Female Male   Male   Male   Female Male  </span>
<span class="co">#&gt;  [51] Male   Female Male   Male   Male   Male   Female Female Male   Male  </span>
<span class="co">#&gt;  [61] Female Female Female Male   Male   Male   Male   Male   Male   Male  </span>
<span class="co">#&gt;  [71] Male   Female Male   Male   Male   Male   Female Male   Male   Female</span>
<span class="co">#&gt;  [81] Male   Male   Female Male   Female Male   Male   Male   Male   Male  </span>
<span class="co">#&gt;  [91] Female Male   Male   Male   Male   Female Female Male   Male   Male  </span>
<span class="co">#&gt; Levels: Male Female</span>
mydata[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), ]  <span class="co"># all variables for the first two patients</span>
<span class="co">#&gt;   ptno  treatm    sex age height weight comorb painbl painfu  race</span>
<span class="co">#&gt; 1    1 Placebo   Male  58    190     97      1     45     64 Asian</span>
<span class="co">#&gt; 2    2 Placebo Female  68    171     61      1     45     68 Asian</span>
mydata[<span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>,<span class="op">-</span><span class="dv">4</span>), <span class="st">'sex'</span>] <span class="co"># Negative numbers and names can also be used</span>
<span class="co">#&gt;  [1] Male   Female Male   Male   Male   Male   Male   Male   Male   Male  </span>
<span class="co">#&gt; [11] Male   Female Male   Male   Male   Male   Female Male   Female Female</span>
<span class="co">#&gt; [21] Female Female Male   Male   Female Male   Female Male   Male   Female</span>
<span class="co">#&gt; [31] Female Male   Female Female Male   Male   Male   Male   Male   Male  </span>
<span class="co">#&gt; [41] Male   Male   Female Male   Male   Male   Female Male   Male   Female</span>
<span class="co">#&gt; [51] Male   Male   Male   Male   Female Female Male   Male   Female Female</span>
<span class="co">#&gt; [61] Female Male   Male   Male   Male   Male   Male   Male   Male   Female</span>
<span class="co">#&gt; [71] Male   Male   Male   Male   Female Male   Male   Female Male   Male  </span>
<span class="co">#&gt; [81] Female Male   Female Male   Male   Male   Male   Male   Female Male  </span>
<span class="co">#&gt; [91] Male   Male   Male   Female Female Male   Male   Male  </span>
<span class="co">#&gt; Levels: Male Female</span></code></pre></div>
<p>We have to be careful when we want to select a single variable from a <code>data.frame</code>, as we do above. The result will now no longer be a <code>data.frame</code> but it is transformed to a <code>vector</code>. When we want to prevent this we can use <code>drop=FALSE</code>, as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mydata[, <span class="dv">3</span>, drop=<span class="ot">FALSE</span>]       <span class="co"># data.frame met een variabele</span>
<span class="co">#&gt;        sex</span>
<span class="co">#&gt; 1     Male</span>
<span class="co">#&gt; 2   Female</span>
<span class="co">#&gt; 3     Male</span>
<span class="co">#&gt; 4   Female</span>
<span class="co">#&gt; 5     Male</span>
<span class="co">#&gt; 6     Male</span>
<span class="co">#&gt; 7     Male</span>
<span class="co">#&gt; 8     Male</span>
<span class="co">#&gt; 9     Male</span>
<span class="co">#&gt; 10    Male</span>
<span class="co">#&gt; 11    Male</span>
<span class="co">#&gt; 12    Male</span>
<span class="co">#&gt; 13    Male</span>
<span class="co">#&gt; 14  Female</span>
<span class="co">#&gt; 15    Male</span>
<span class="co">#&gt; 16    Male</span>
<span class="co">#&gt; 17    Male</span>
<span class="co">#&gt; 18    Male</span>
<span class="co">#&gt; 19  Female</span>
<span class="co">#&gt; 20    Male</span>
<span class="co">#&gt; 21  Female</span>
<span class="co">#&gt; 22  Female</span>
<span class="co">#&gt; 23  Female</span>
<span class="co">#&gt; 24  Female</span>
<span class="co">#&gt; 25    Male</span>
<span class="co">#&gt; 26    Male</span>
<span class="co">#&gt; 27  Female</span>
<span class="co">#&gt; 28    Male</span>
<span class="co">#&gt; 29  Female</span>
<span class="co">#&gt; 30    Male</span>
<span class="co">#&gt; 31    Male</span>
<span class="co">#&gt; 32  Female</span>
<span class="co">#&gt; 33  Female</span>
<span class="co">#&gt; 34    Male</span>
<span class="co">#&gt; 35  Female</span>
<span class="co">#&gt; 36  Female</span>
<span class="co">#&gt; 37    Male</span>
<span class="co">#&gt; 38    Male</span>
<span class="co">#&gt; 39    Male</span>
<span class="co">#&gt; 40    Male</span>
<span class="co">#&gt; 41    Male</span>
<span class="co">#&gt; 42    Male</span>
<span class="co">#&gt; 43    Male</span>
<span class="co">#&gt; 44    Male</span>
<span class="co">#&gt; 45  Female</span>
<span class="co">#&gt; 46    Male</span>
<span class="co">#&gt; 47    Male</span>
<span class="co">#&gt; 48    Male</span>
<span class="co">#&gt; 49  Female</span>
<span class="co">#&gt; 50    Male</span>
<span class="co">#&gt; 51    Male</span>
<span class="co">#&gt; 52  Female</span>
<span class="co">#&gt; 53    Male</span>
<span class="co">#&gt; 54    Male</span>
<span class="co">#&gt; 55    Male</span>
<span class="co">#&gt; 56    Male</span>
<span class="co">#&gt; 57  Female</span>
<span class="co">#&gt; 58  Female</span>
<span class="co">#&gt; 59    Male</span>
<span class="co">#&gt; 60    Male</span>
<span class="co">#&gt; 61  Female</span>
<span class="co">#&gt; 62  Female</span>
<span class="co">#&gt; 63  Female</span>
<span class="co">#&gt; 64    Male</span>
<span class="co">#&gt; 65    Male</span>
<span class="co">#&gt; 66    Male</span>
<span class="co">#&gt; 67    Male</span>
<span class="co">#&gt; 68    Male</span>
<span class="co">#&gt; 69    Male</span>
<span class="co">#&gt; 70    Male</span>
<span class="co">#&gt; 71    Male</span>
<span class="co">#&gt; 72  Female</span>
<span class="co">#&gt; 73    Male</span>
<span class="co">#&gt; 74    Male</span>
<span class="co">#&gt; 75    Male</span>
<span class="co">#&gt; 76    Male</span>
<span class="co">#&gt; 77  Female</span>
<span class="co">#&gt; 78    Male</span>
<span class="co">#&gt; 79    Male</span>
<span class="co">#&gt; 80  Female</span>
<span class="co">#&gt; 81    Male</span>
<span class="co">#&gt; 82    Male</span>
<span class="co">#&gt; 83  Female</span>
<span class="co">#&gt; 84    Male</span>
<span class="co">#&gt; 85  Female</span>
<span class="co">#&gt; 86    Male</span>
<span class="co">#&gt; 87    Male</span>
<span class="co">#&gt; 88    Male</span>
<span class="co">#&gt; 89    Male</span>
<span class="co">#&gt; 90    Male</span>
<span class="co">#&gt; 91  Female</span>
<span class="co">#&gt; 92    Male</span>
<span class="co">#&gt; 93    Male</span>
<span class="co">#&gt; 94    Male</span>
<span class="co">#&gt; 95    Male</span>
<span class="co">#&gt; 96  Female</span>
<span class="co">#&gt; 97  Female</span>
<span class="co">#&gt; 98    Male</span>
<span class="co">#&gt; 99    Male</span>
<span class="co">#&gt; 100   Male</span></code></pre></div>
<p>We can also use a single index between the square brackets. This works as if the <code>data.frame</code> was a list of variables (it’s columns).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mydata[<span class="dv">1</span>]
<span class="co">#&gt;     ptno</span>
<span class="co">#&gt; 1      1</span>
<span class="co">#&gt; 2      2</span>
<span class="co">#&gt; 3      3</span>
<span class="co">#&gt; 4      4</span>
<span class="co">#&gt; 5      5</span>
<span class="co">#&gt; 6      6</span>
<span class="co">#&gt; 7      7</span>
<span class="co">#&gt; 8      8</span>
<span class="co">#&gt; 9      9</span>
<span class="co">#&gt; 10    10</span>
<span class="co">#&gt; 11    11</span>
<span class="co">#&gt; 12    12</span>
<span class="co">#&gt; 13    13</span>
<span class="co">#&gt; 14    14</span>
<span class="co">#&gt; 15    15</span>
<span class="co">#&gt; 16    16</span>
<span class="co">#&gt; 17    17</span>
<span class="co">#&gt; 18    18</span>
<span class="co">#&gt; 19    19</span>
<span class="co">#&gt; 20    20</span>
<span class="co">#&gt; 21    21</span>
<span class="co">#&gt; 22    22</span>
<span class="co">#&gt; 23    23</span>
<span class="co">#&gt; 24    24</span>
<span class="co">#&gt; 25    25</span>
<span class="co">#&gt; 26    26</span>
<span class="co">#&gt; 27    27</span>
<span class="co">#&gt; 28    28</span>
<span class="co">#&gt; 29    29</span>
<span class="co">#&gt; 30    30</span>
<span class="co">#&gt; 31    31</span>
<span class="co">#&gt; 32    32</span>
<span class="co">#&gt; 33    33</span>
<span class="co">#&gt; 34    34</span>
<span class="co">#&gt; 35    35</span>
<span class="co">#&gt; 36    36</span>
<span class="co">#&gt; 37    37</span>
<span class="co">#&gt; 38    38</span>
<span class="co">#&gt; 39    39</span>
<span class="co">#&gt; 40    40</span>
<span class="co">#&gt; 41    41</span>
<span class="co">#&gt; 42    42</span>
<span class="co">#&gt; 43    43</span>
<span class="co">#&gt; 44    44</span>
<span class="co">#&gt; 45    45</span>
<span class="co">#&gt; 46    46</span>
<span class="co">#&gt; 47    47</span>
<span class="co">#&gt; 48    48</span>
<span class="co">#&gt; 49    49</span>
<span class="co">#&gt; 50    50</span>
<span class="co">#&gt; 51    51</span>
<span class="co">#&gt; 52    52</span>
<span class="co">#&gt; 53    53</span>
<span class="co">#&gt; 54    54</span>
<span class="co">#&gt; 55    55</span>
<span class="co">#&gt; 56    56</span>
<span class="co">#&gt; 57    57</span>
<span class="co">#&gt; 58    58</span>
<span class="co">#&gt; 59    59</span>
<span class="co">#&gt; 60    60</span>
<span class="co">#&gt; 61    61</span>
<span class="co">#&gt; 62    62</span>
<span class="co">#&gt; 63    63</span>
<span class="co">#&gt; 64    64</span>
<span class="co">#&gt; 65    65</span>
<span class="co">#&gt; 66    66</span>
<span class="co">#&gt; 67    67</span>
<span class="co">#&gt; 68    68</span>
<span class="co">#&gt; 69    69</span>
<span class="co">#&gt; 70    70</span>
<span class="co">#&gt; 71    71</span>
<span class="co">#&gt; 72    72</span>
<span class="co">#&gt; 73    73</span>
<span class="co">#&gt; 74    74</span>
<span class="co">#&gt; 75    75</span>
<span class="co">#&gt; 76    76</span>
<span class="co">#&gt; 77    77</span>
<span class="co">#&gt; 78    78</span>
<span class="co">#&gt; 79    79</span>
<span class="co">#&gt; 80    80</span>
<span class="co">#&gt; 81    81</span>
<span class="co">#&gt; 82    82</span>
<span class="co">#&gt; 83    83</span>
<span class="co">#&gt; 84    84</span>
<span class="co">#&gt; 85    85</span>
<span class="co">#&gt; 86    86</span>
<span class="co">#&gt; 87    87</span>
<span class="co">#&gt; 88    88</span>
<span class="co">#&gt; 89    89</span>
<span class="co">#&gt; 90    90</span>
<span class="co">#&gt; 91    91</span>
<span class="co">#&gt; 92    92</span>
<span class="co">#&gt; 93    93</span>
<span class="co">#&gt; 94    94</span>
<span class="co">#&gt; 95    95</span>
<span class="co">#&gt; 96    96</span>
<span class="co">#&gt; 97    97</span>
<span class="co">#&gt; 98    98</span>
<span class="co">#&gt; 99    99</span>
<span class="co">#&gt; 100  100</span>
mydata[[<span class="dv">1</span>]]
<span class="co">#&gt;   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17</span>
<span class="co">#&gt;  [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34</span>
<span class="co">#&gt;  [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51</span>
<span class="co">#&gt;  [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68</span>
<span class="co">#&gt;  [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85</span>
<span class="co">#&gt;  [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100</span></code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
