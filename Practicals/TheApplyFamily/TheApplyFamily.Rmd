---
title: 'The Apply Family'
output: 
  html_document:
    code_folding: show
    df_print: paged
    toc: true
    toc_float:
      collapsed: false
    number_sections: false
    theme: spacelab
    highlight: tango
    includes:
      after_body: ../footerEA.html
    css: ../style.css
---

```{r, echo = FALSE, purl = FALSE}
knitr::knit_hooks$set(purl = knitr::hook_purl)

options(purl = FALSE)

knitr::opts_chunk$set(purl = FALSE)
```

```{r, include = FALSE}
knitr::opts_hooks$set(eval = function(opt) {
  if (any(opt$exercise))
    opt$eval <- opt$include <- FALSE
  
  opt
})


static <- TRUE

options(width = 100)

```


```{r packages, include = FALSE}
library(kableExtra)
library(knitr)
```


```{r load_data, context="data", include=FALSE}
library(survival)
```


## Preface {data-progressive=FALSE}
### R packages
In this practical, a number of R packages are used.
The packages used (with versions that were used to generate the solutions) are:

* `r R.version.string`
* `survival` (version: `r packageVersion("mice")`)



### Dataset {.tabset .tabset-fade .tabset-pills}

For this practical, we will use the **heart** and **retinopathy** data sets from the `survival` package. More details about the data sets can be found in:

https://stat.ethz.ch/R-manual/R-devel/library/survival/html/heart.html

https://stat.ethz.ch/R-manual/R-devel/library/survival/html/retinopathy.html

Always check your data.


```{r, eval = static, echo = FALSE}
asis_output("#### Task\\n")
```

```{r, eval = static, echo = FALSE}
asis_output('<div style="border:2px; border-style:solid; padding: 1em; border-color:#446E9B">')
```

Explore the **heart** and **retinopathy** data sets - print the first six and last six rows. 

```{r data_hint, eval = static, results = 'asis', echo = FALSE}
cat('<button type="button" class="btn btn-info btn-sm" data-toggle="collapse" data-target="#data">Hint</button>
<div id = "data" class="collapse" style="border:1px; border-style:solid; padding: 1em; border-color:#1F78B4">
Use the functions head(...) and tail(...) to investigate the data set. Replace the dots with the name of the data set.
</div>')
```


```{r, eval = static, echo = FALSE}
asis_output("</div>")

asis_output("#### Solution\\n")
```

```{r data-solution, solution = TRUE}
library(survival)
head(heart)
tail(heart)
head(retinopathy)
tail(retinopathy)
```

## Common R Objects

It is important to distinguish the different object in R.

### Vectors {.tabset .tabset-fade .tabset-pills}

Let's create some vectors.

```{r, eval = static, echo = FALSE}
asis_output("#### Task 1\\n")
```

```{r, eval = static, echo = FALSE}
asis_output('<div style="border:2px; border-style:solid; padding: 1em; border-color:#446E9B">')
```

View the vectors `event` and `age` from the **heart** data set.

```{r vec_hint, eval = static, results = 'asis', echo = FALSE}
cat('<button type="button" class="btn btn-info btn-sm" data-toggle="collapse" data-target="#vec">Hint</button>
<div id = "vec" class="collapse" style="border:1px; border-style:solid; padding: 1em; border-color:#1F78B4">
Use the dollar sign to select the variables.
</div>')
```


```{r, eval = static, echo = FALSE}
asis_output("</div>")

asis_output("#### Solution 1\\n")
```

```{r vec-solution, solution = TRUE}
heart$event
heart$age
```



```{r, eval = static, echo = FALSE}
asis_output("#### Task 2\\n")
```

```{r, eval = static, echo = FALSE}
asis_output('<div style="border:2px; border-style:solid; padding: 1em; border-color:#446E9B">')
```

View the vectors `eye` and `risk` from the **retinopathy** data set.

```{r vec2_hint, eval = static, results = 'asis', echo = FALSE}
cat('<button type="button" class="btn btn-info btn-sm" data-toggle="collapse" data-target="#vec2">Hint</button>
<div id = "vec2" class="collapse" style="border:1px; border-style:solid; padding: 1em; border-color:#1F78B4">
Use the dollar sign to select the variables.
</div>')
```


```{r, eval = static, echo = FALSE}
asis_output("</div>")

asis_output("#### Solution 2\\n")
```

```{r vec2-solution, solution = TRUE}
retinopathy$eye
retinopathy$risk
```



